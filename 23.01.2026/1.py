def gas_station(dis, gas): #Функция для возврата списка индексов заправок, где нужно заправиться
    """
    dis - расстояния между заправками
    gas - Ход на полном баке
    """
    n = len(dis) #Кол-во отрезков между точками
    fuel = gas #Текущий остаток топлива 
    stops = [] #Номера заправок

    # Координаты от заправок Петербурга
    coord = [0]
    for d in dis:
        coord.append(coord[-1] + d)

    #Вывод информации о маршруте
    print("=" * 60)
    print("Маршрут Петербург - Москва")
    print("=" * 60)
    print(f"Общее расстояние: {coord[-1]} км")
    print(f"Запас хода на полном баке: {gas} км")
    print("\nКоординаты заправок от Петербурга:")

    for i, c in enumerate(coord):
        if i == 0:
            print(f"  Петербург: {c} км")
        elif i == len(coord) - 1:
            print(f"  Москва: {c} км")
        else:
            print(f"  Заправка {i}: {c} км")

    print("\n" + "=" * 60)
    print("Начало поездки из СПБ до МСК")
    print("=" * 60)

    pos = 0  #Текущая координата
    i = 0  #id заправки

    while i < n:    #Цикл: пока не доехали до Москвы        
        to_next = dis[i]    #Расстояние до след точки

        print(f"\nПозиция: {pos} км")
        print(f"До следующей точки: {to_next} км")      
        print(f"Остаток топлива: {fuel} км")

        #Условие: если не хватает топлива до следующей заправки
        if to_next > fuel:
            print(f"Мало топлива! Нужна заправка.")

            # Заправляемся на заправке
            if pos > 0:  #Условие: если мы уже на заправке
                stops.append(i)  #id текущей заправки
                fuel = gas
                print(f"Заправляемся на заправке №{i}")
                print(f"Бак заполнен до {fuel} км")
            else:   #Иначе
                print("Уже заправлены в Петербурге")
                
                if to_next > gas: #Условие: если маршрут не доступен
                    return "Маршрут недоступен!"

        # Едем до следующей заправки
        fuel -= to_next #Расход топлива
        pos += to_next  #Перемещение вперед
        i += 1  #Переход к след отрезку

    print("\n" + "=" * 60)
    print("Приехали в Москву!")
    print("=" * 60)

    return stops


#Пример данных
dis = [200, 150, 300, 250, 100] #Расстояние между точками
gas = 400   #Запас хода на полном баке 

#Использование функции
result = gas_station(dis, gas)
#Вывод результата
print(f"\nНужно заправиться на заправках: {[x + 1 for x in result]} (нумерация с 1)")
print(f"Всего заправок: {len(result)}")
